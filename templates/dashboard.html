<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard | Kingston Companions</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='logo.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='activity-hover.css') }}">
</head>
<body>

<header class="navbar">
    <a href="{{ url_for('dashboard') }}" class="logo-title">
        <h1>Kingston Companions</h1>
        <img src="{{ url_for('static', filename='logo.png') }}">
    </a>

    <nav>
        <a class="active" href="#">Dashboard</a>
        <a href="#">Find Matches</a>
        <a href="/outings">View All Outings</a>
        <a href="/edit_profile">Profile</a>
        <a href="/logout">Logout</a>
    </nav>
</header>

<main>

    <h2>Someone you might enjoy meeting...</h2>

    <section class="top-cards">

        <!-- MATCH CARD -->
        <div class="card match-card">
    
            {% if match.profile_pic and match.profile_pic != '' %}
                <img src="{{ url_for('static', filename='profile_pics/' + match.profile_pic) }}" alt="{{ match.name }}'s profile photo">
            {% else %}
            <img src="{{ url_for('static', filename='woman.jpg') }}" alt="{{ match.name }}'s profile photo">
             {% endif %}

            <h3 style="text-align: center;">{{ match.name }}</h3>
            <div class="bio">
                <p>{{ match.bio }}</p>
            </div>
            <div class="interests" >
                <strong style="margin-bottom: 20px;">Interests:</strong>
                <div class="tags" style="margin-top: 10px; margin-bottom: 5px;">
                    {% for interest in match.interests.split(",") %}
                    <span>{{ interest.strip() }}</span>
                    {% endfor %}
                </div>
            </div>
            <div class="match-reason">
                <strong style="margin-bottom: 5px;">Why you matched:</strong>
                <p style="margin-top: 10px;">{{ match_reason }}</p>
            </div>

            <a
                href="mailto:{{ match.email }}?subject=Hello%20from%20{{ user.username|urlencode }}%20%7C%20Kingston%20Companions"
                class="btn-say-hello"
            >
                ðŸ’¬ Say hello
            </a>
        </div>

        <!-- OUTING CARD -->
        <div class="card outing-card">
            <h3>Suggested outing</h3>

            <img src="{{ url_for('static', filename='activities/' + outing.image) }}" alt="{{ outing.name }}">

            <h4>{{ outing.name }}</h4>
            <p>{{ outing_reason }}</p>

            <a
            href="mailto:{{ match.email }}?subject=Invitation%20to%20join%20{{ user.username|urlencode }}%20for%20{{ outing.name|urlencode }}%20%7C%20Kingston%20Companions&body=Hi%20{{ match.username|urlencode }},%0D%0A%0D%0AI%20would%20like%20to%20invite%20you%20to%20join%20me%20for%20{{ outing.name|urlencode }}.%20It%20sounds%20like%20a%20great%20activity%20we%20could%20enjoy%20together!%0D%0A%0D%0ABest%20regards,%0D%0A{{ user.username|urlencode }}"
            class="btn-invite"
            >
            Invite {{ match.username }}
            </a>

        </div>

    </section>

    <!-- YOU MIGHT LIKE -->
    <h2>You might also like...</h2>

    <section class="suggestions-wrapper">

        <div class="activity-grid">
            {% for activity in suggestions %}
                <div class="activity-card">
                    <img src="{{ url_for('static', filename='activities/' + activity.image) }}" alt="{{ activity.name }}">
                    <p>{{ activity.name }}</p>

                    <div class="activity-overlay">
                        <p class="activity-description">{{ activity.description }}</p>
                        <a href="{{ activity.url }}" class="see-more-btn">See more</a>
                    </div>
                </div>
            {% endfor %}
        </div>

        <!-- VIEW ALL OUTINGS ARROW -->
        <a href="{{ url_for('outings') }}" class="view-all-circle" title="View all outings">
            â†’
        </a>

    </section>


</main>

</body>
</html>
